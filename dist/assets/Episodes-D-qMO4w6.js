import{r as f,c as T,m as X,f as C,j as a,a as w,b as S,u as F,d as R,w as D,I as ge,A as Z,e as ee,g as be,o as te,h as ye,i as Ne,k,G as H,l as Ie,n as Ce,p as ne,q as se,T as Se,s as W,S as Ee,t as we}from"./index-De7XSiMu.js";import{S as Ae,H as _e,P as Pe,E as De,V as Oe}from"./PageLayout-0ogqSnf9.js";var je=Object.defineProperty,Te=(e,t,n)=>t in e?je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t,n)=>(Te(e,typeof t!="symbol"?t+"":t,n),n);function q(e){return e.sort((t,n)=>{const s=t.compareDocumentPosition(n);if(s&Node.DOCUMENT_POSITION_FOLLOWING||s&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(s&Node.DOCUMENT_POSITION_PRECEDING||s&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(s&Node.DOCUMENT_POSITION_DISCONNECTED||s&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}var ke=e=>typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE;function J(e,t,n){let s=e+1;return n&&s>=t&&(s=0),s}function K(e,t,n){let s=e-1;return n&&s<0&&(s=t),s}var V=typeof window<"u"?f.useLayoutEffect:f.useEffect,O=e=>e,Me=class{constructor(){v(this,"descendants",new Map),v(this,"register",e=>{if(e!=null)return ke(e)?this.registerNode(e):t=>{this.registerNode(t,e)}}),v(this,"unregister",e=>{this.descendants.delete(e);const t=q(Array.from(this.descendants.keys()));this.assignIndex(t)}),v(this,"destroy",()=>{this.descendants.clear()}),v(this,"assignIndex",e=>{this.descendants.forEach(t=>{const n=e.indexOf(t.node);t.index=n,t.node.dataset.index=t.index.toString()})}),v(this,"count",()=>this.descendants.size),v(this,"enabledCount",()=>this.enabledValues().length),v(this,"values",()=>Array.from(this.descendants.values()).sort((t,n)=>t.index-n.index)),v(this,"enabledValues",()=>this.values().filter(e=>!e.disabled)),v(this,"item",e=>{if(this.count()!==0)return this.values()[e]}),v(this,"enabledItem",e=>{if(this.enabledCount()!==0)return this.enabledValues()[e]}),v(this,"first",()=>this.item(0)),v(this,"firstEnabled",()=>this.enabledItem(0)),v(this,"last",()=>this.item(this.descendants.size-1)),v(this,"lastEnabled",()=>{const e=this.enabledValues().length-1;return this.enabledItem(e)}),v(this,"indexOf",e=>{var t,n;return e&&(n=(t=this.descendants.get(e))==null?void 0:t.index)!=null?n:-1}),v(this,"enabledIndexOf",e=>e==null?-1:this.enabledValues().findIndex(t=>t.node.isSameNode(e))),v(this,"next",(e,t=!0)=>{const n=J(e,this.count(),t);return this.item(n)}),v(this,"nextEnabled",(e,t=!0)=>{const n=this.item(e);if(!n)return;const s=this.enabledIndexOf(n.node),o=J(s,this.enabledCount(),t);return this.enabledItem(o)}),v(this,"prev",(e,t=!0)=>{const n=K(e,this.count()-1,t);return this.item(n)}),v(this,"prevEnabled",(e,t=!0)=>{const n=this.item(e);if(!n)return;const s=this.enabledIndexOf(n.node),o=K(s,this.enabledCount()-1,t);return this.enabledItem(o)}),v(this,"registerNode",(e,t)=>{if(!e||this.descendants.has(e))return;const n=Array.from(this.descendants.keys()).concat(e),s=q(n);t!=null&&t.disabled&&(t.disabled=!!t.disabled);const o={node:e,index:-1,...t};this.descendants.set(e,o),this.assignIndex(s)})}};function Fe(){const e=f.useRef(new Me);return V(()=>()=>e.current.destroy()),e.current}var[Re,oe]=T({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function Ve(e){const t=oe(),[n,s]=f.useState(-1),o=f.useRef(null);V(()=>()=>{o.current&&t.unregister(o.current)},[]),V(()=>{if(!o.current)return;const r=Number(o.current.dataset.index);n!=r&&!Number.isNaN(r)&&s(r)});const i=O(e?t.register(e):t.register);return{descendants:t,index:n,enabledIndex:t.enabledIndexOf(o.current),register:X(i,o)}}function Le(){return[O(Re),()=>O(oe()),()=>Fe(),o=>Ve(o)]}var[Ue,M]=T({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[Be,L]=T({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[$e,ut,Ge,ze]=Le(),re=C(function(t,n){const{getButtonProps:s}=L(),o=s(t,n),r={display:"flex",alignItems:"center",width:"100%",outline:0,...M().button};return a.jsx(w.button,{...o,className:S("chakra-accordion__button",t.className),__css:r})});re.displayName="AccordionButton";function He(e){const{value:t,defaultValue:n,onChange:s,shouldUpdate:o=(p,u)=>p!==u}=e,i=F(s),r=F(o),[c,x]=f.useState(n),d=t!==void 0,l=d?t:c,m=F(p=>{const g=typeof p=="function"?p(l):p;r(l,g)&&(d||x(g),i(g))},[d,i,l,r]);return[l,m]}function We(e){const{onChange:t,defaultIndex:n,index:s,allowMultiple:o,allowToggle:i,...r}=e;Ke(e),Ye(e);const c=Ge(),[x,d]=f.useState(-1);f.useEffect(()=>()=>{d(-1)},[]);const[l,m]=He({value:s,defaultValue(){return o?n??[]:n??-1},onChange:t});return{index:l,setIndex:m,htmlProps:r,getAccordionItemProps:u=>{let g=!1;return u!==null&&(g=Array.isArray(l)?l.includes(u):l===u),{isOpen:g,onChange:h=>{if(u!==null)if(o&&Array.isArray(l)){const y=h?l.concat(u):l.filter(N=>N!==u);m(y)}else h?m(u):i&&m(-1)}}},focusedIndex:x,setFocusedIndex:d,descendants:c}}var[qe,U]=T({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function Je(e){const{isDisabled:t,isFocusable:n,id:s,...o}=e,{getAccordionItemProps:i,setFocusedIndex:r}=U(),c=f.useRef(null),x=f.useId(),d=s??x,l=`accordion-button-${d}`,m=`accordion-panel-${d}`;Qe(e);const{register:p,index:u,descendants:g}=ze({disabled:t&&!n}),{isOpen:b,onChange:h}=i(u===-1?null:u);Xe({isOpen:b,isDisabled:t});const y=()=>{h==null||h(!0)},N=()=>{h==null||h(!1)},$=f.useCallback(()=>{h==null||h(!b),r(u)},[u,r,b,h]),G=f.useCallback(P=>{const A={ArrowDown:()=>{const I=g.nextEnabled(u);I==null||I.node.focus()},ArrowUp:()=>{const I=g.prevEnabled(u);I==null||I.node.focus()},Home:()=>{const I=g.firstEnabled();I==null||I.node.focus()},End:()=>{const I=g.lastEnabled();I==null||I.node.focus()}}[P.key];A&&(P.preventDefault(),A(P))},[g,u]),z=f.useCallback(()=>{r(u)},[r,u]),pe=f.useCallback(function(E={},A=null){return{...E,type:"button",ref:X(p,c,A),id:l,disabled:!!t,"aria-expanded":!!b,"aria-controls":m,onClick:R(E.onClick,$),onFocus:R(E.onFocus,z),onKeyDown:R(E.onKeyDown,G)}},[l,t,b,$,z,G,m,p]),ve=f.useCallback(function(E={},A=null){return{...E,ref:A,role:"region",id:m,"aria-labelledby":l,hidden:!b}},[l,b,m]);return{isOpen:b,isDisabled:t,isFocusable:n,onOpen:y,onClose:N,getButtonProps:pe,getPanelProps:ve,htmlProps:o}}function Ke(e){const t=e.index||e.defaultIndex,n=t!=null&&!Array.isArray(t)&&e.allowMultiple;D({condition:!!n,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof t},`})}function Ye(e){D({condition:!!(e.allowMultiple&&e.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function Qe(e){D({condition:!!(e.isFocusable&&!e.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function Xe(e){D({condition:e.isOpen&&!!e.isDisabled,message:"Cannot open a disabled accordion item"})}function ie(e){const{isOpen:t,isDisabled:n}=L(),{reduceMotion:s}=U(),o=S("chakra-accordion__icon",e.className),i=M(),r={opacity:n?.4:1,transform:t?"rotate(-180deg)":void 0,transition:s?void 0:"transform 0.2s",transformOrigin:"center",...i.icon};return a.jsx(ge,{viewBox:"0 0 24 24","aria-hidden":!0,className:o,__css:r,...e,children:a.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})}ie.displayName="AccordionIcon";var ae=C(function(t,n){const{children:s,className:o}=t,{htmlProps:i,...r}=Je(t),x={...M().container,overflowAnchor:"none"},d=f.useMemo(()=>r,[r]);return a.jsx(Be,{value:d,children:a.jsx(w.div,{ref:n,...i,className:S("chakra-accordion__item",o),__css:x,children:typeof s=="function"?s({isExpanded:!!r.isOpen,isDisabled:!!r.isDisabled}):s})})});ae.displayName="AccordionItem";var _={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},Y={enter:{duration:.2,ease:_.easeOut},exit:{duration:.1,ease:_.easeIn}},j={enter:(e,t)=>({...e,delay:typeof t=="number"?t:t==null?void 0:t.enter}),exit:(e,t)=>({...e,delay:typeof t=="number"?t:t==null?void 0:t.exit})},Ze=e=>e!=null&&parseInt(e.toString(),10)>0,Q={exit:{height:{duration:.2,ease:_.ease},opacity:{duration:.3,ease:_.ease}},enter:{height:{duration:.3,ease:_.ease},opacity:{duration:.4,ease:_.ease}}},et={exit:({animateOpacity:e,startingHeight:t,transition:n,transitionEnd:s,delay:o})=>{var i;return{...e&&{opacity:Ze(t)?1:0},height:t,transitionEnd:s==null?void 0:s.exit,transition:(i=n==null?void 0:n.exit)!=null?i:j.exit(Q.exit,o)}},enter:({animateOpacity:e,endingHeight:t,transition:n,transitionEnd:s,delay:o})=>{var i;return{...e&&{opacity:1},height:t,transitionEnd:s==null?void 0:s.enter,transition:(i=n==null?void 0:n.enter)!=null?i:j.enter(Q.enter,o)}}},le=f.forwardRef((e,t)=>{const{in:n,unmountOnExit:s,animateOpacity:o=!0,startingHeight:i=0,endingHeight:r="auto",style:c,className:x,transition:d,transitionEnd:l,...m}=e,[p,u]=f.useState(!1);f.useEffect(()=>{const N=setTimeout(()=>{u(!0)});return()=>clearTimeout(N)},[]),D({condition:Number(i)>0&&!!s,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const g=parseFloat(i.toString())>0,b={startingHeight:i,endingHeight:r,animateOpacity:o,transition:p?d:{enter:{duration:0}},transitionEnd:{enter:l==null?void 0:l.enter,exit:s?l==null?void 0:l.exit:{...l==null?void 0:l.exit,display:g?"block":"none"}}},h=s?n:!0,y=n||s?"enter":"exit";return a.jsx(Z,{initial:!1,custom:b,children:h&&a.jsx(ee.div,{ref:t,...m,className:S("chakra-collapse",x),style:{overflow:"hidden",display:"block",...c},custom:b,variants:et,initial:s?"exit":!1,animate:y,exit:"exit"})})});le.displayName="Collapse";var tt={enter:({transition:e,transitionEnd:t,delay:n}={})=>{var s;return{opacity:1,transition:(s=e==null?void 0:e.enter)!=null?s:j.enter(Y.enter,n),transitionEnd:t==null?void 0:t.enter}},exit:({transition:e,transitionEnd:t,delay:n}={})=>{var s;return{opacity:0,transition:(s=e==null?void 0:e.exit)!=null?s:j.exit(Y.exit,n),transitionEnd:t==null?void 0:t.exit}}},nt={initial:"exit",animate:"enter",exit:"exit",variants:tt},ce=f.forwardRef(function(t,n){const{unmountOnExit:s,in:o,className:i,transition:r,transitionEnd:c,delay:x,...d}=t,l=o||s?"enter":"exit",m=s?o&&s:!0,p={transition:r,transitionEnd:c,delay:x};return a.jsx(Z,{custom:p,children:m&&a.jsx(ee.div,{ref:n,className:S("chakra-fade",i),custom:p,...nt,animate:l,...d})})});ce.displayName="Fade";var de=C(function(t,n){const{className:s,motionProps:o,...i}=t,{reduceMotion:r}=U(),{getPanelProps:c,isOpen:x}=L(),d=c(i,n),l=S("chakra-accordion__panel",s),m=M();r||delete d.hidden;const p=a.jsx(w.div,{...d,__css:m.panel,className:l});return r?p:a.jsx(le,{in:x,...o,children:p})});de.displayName="AccordionPanel";var ue=C(function({children:t,reduceMotion:n,...s},o){const i=be("Accordion",s),r=te(s),{htmlProps:c,descendants:x,...d}=We(r),l=f.useMemo(()=>({...d,reduceMotion:!!n}),[d,n]);return a.jsx($e,{value:x,children:a.jsx(qe,{value:l,children:a.jsx(Ue,{value:i,children:a.jsx(w.div,{ref:o,...c,className:S("chakra-accordion",s.className),__css:i.root,children:t})})})})});ue.displayName="Accordion";var fe=C(function(t,n){const s=ye("Text",t),{className:o,align:i,decoration:r,casing:c,...x}=te(t),d=Ne({textAlign:t.align,textDecoration:t.decoration,textTransform:t.casing});return a.jsx(w.p,{ref:n,className:S("chakra-text",t.className),...d,...x,__css:s})});fe.displayName="Text";var B=w("div");B.displayName="Box";var he=C(function(t,n){const{size:s,centerContent:o=!0,...i}=t,r=o?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return a.jsx(B,{ref:n,boxSize:s,__css:{...r,flexShrink:0,flexGrow:0},...i})});he.displayName="Square";var st=C(function(t,n){const{size:s,...o}=t;return a.jsx(he,{size:s,ref:n,borderRadius:"9999px",...o})});st.displayName="Circle";var xe=C(function(t,n){const{direction:s,align:o,justify:i,wrap:r,basis:c,grow:x,shrink:d,...l}=t,m={display:"flex",flexDirection:s,alignItems:o,justifyContent:i,flexWrap:r,flexBasis:c,flexGrow:x,flexShrink:d};return a.jsx(w.div,{ref:n,__css:m,...l})});xe.displayName="Flex";const ot=e=>{const t=k.c(7),{children:n,sidebar:s}=e;let o;t[0]!==s?(o=a.jsx(H,{bgColor:"black",borderRight:"1px solid",borderColor:"blue.800",px:4,h:"full",overflow:"auto",children:s}),t[0]=s,t[1]=o):o=t[1];let i;t[2]!==n?(i=a.jsx(H,{overflow:"auto",children:n}),t[2]=n,t[3]=i):i=t[3];let r;return t[4]!==o||t[5]!==i?(r=a.jsxs(Ie,{gridTemplateColumns:"250px 1fr",h:"full",w:"full",overflow:"hidden",children:[o,i]}),t[4]=o,t[5]=i,t[6]=r):r=t[6],r};var me=(e=>(e.SelectedEpisode="selectedEpisode",e))(me||{});const rt=(e,t={})=>{const n=()=>{const c=window.localStorage.getItem(e);if(!c)return{};try{return JSON.parse(c)}catch{return{}}},[s,o]=f.useState(()=>n()),i=c=>{o(c),window.localStorage.setItem(e,JSON.stringify(c))},r=f.useCallback(c=>{c.key===e&&c.newValue&&JSON.parse(c.newValue)!==s&&o(JSON.parse(c.newValue)||t)},[e,t,s]);return f.useEffect(()=>(window.addEventListener("storage",r),()=>window.removeEventListener("storage",r)),[r]),[s,i]},it=()=>{const e=k.c(17),t=Ce(),[n,s]=rt(me.SelectedEpisode);let o;e[0]!==t||e[1]!==n?(o=()=>{if(n.season&&n.episode){const{season:h,episode:y}=n;t(W({season:h,episode:y}))}},e[0]=t,e[1]=n,e[2]=o):o=e[2];let i;e[3]===Symbol.for("react.memo_cache_sentinel")?(i=[],e[3]=i):i=e[3],f.useEffect(o,i);const{selectedSeason:r,selectedEpisode:c}=ne(se.getSelectedEpisodeAndSeason);let x;e[4]!==t||e[5]!==s?(x=(h,y)=>{t(W({season:y,episode:h})),s({season:y,episode:h})},e[4]=t,e[5]=s,e[6]=x):x=e[6];const d=x;let l;e[7]!==c||e[8]!==r?(l=(h,y)=>r===y&&c===h,e[7]=c,e[8]=r,e[9]=l):l=e[9];const m=l;let p;e[10]===Symbol.for("react.memo_cache_sentinel")?(p=a.jsx(_e,{size:"sm",p:2,pt:6,color:"yellow.500",children:"Choose episode"}),e[10]=p):p=e[10];const u=n.season-1||r-1;let g;e[11]!==d||e[12]!==m?(g=Ae.map(h=>a.jsxs(ae,{children:[a.jsx("h2",{children:a.jsxs(re,{children:[a.jsx(B,{as:"span",flex:"1",textAlign:"left",children:a.jsx(fe,{color:"teal.500",fontWeight:"medium",children:`Season ${h.season}`})}),a.jsx(ie,{color:"yellow.500"})]})}),a.jsx(de,{px:0,children:h.episodes.map((y,N)=>a.jsx(Se,{label:y,placement:"right",children:a.jsx(xe,{role:"button",onClick:()=>d(N+1,h.season),p:1,px:4,borderRadius:5,w:"full",bgColor:m(N+1,h.season)?"gray.700":"black",_hover:{bgColor:"gray.700"},color:"yellow.400",overflow:"hidden",noOfLines:1,children:`Episode ${N+1}: ${y}`},N)},N))})]},h.season)),e[11]=d,e[12]=m,e[13]=g):g=e[13];let b;return e[14]!==u||e[15]!==g?(b=a.jsx(ce,{in:!0,children:a.jsxs(Ee,{children:[p,a.jsx(ue,{borderColor:"yellow.500",defaultIndex:u,children:g})]})}),e[14]=u,e[15]=g,e[16]=b):b=e[16],b},at=()=>{const e=k.c(3),{selectedSeason:t,selectedEpisode:n}=ne(se.getSelectedEpisodeAndSeason);let s;return e[0]!==n||e[1]!==t?(s=a.jsx(Pe,{header:a.jsx(De,{episode:n,season:t}),children:a.jsx(Oe,{season:t,episode:n})}),e[0]=n,e[1]=t,e[2]=s):s=e[2],s},ft=()=>{const e=k.c(1);f.useEffect(lt);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=a.jsx(ot,{sidebar:a.jsx(it,{}),children:a.jsx(at,{})}),e[0]=t):t=e[0],t};function lt(){we("/episodes")}export{ft as default};
